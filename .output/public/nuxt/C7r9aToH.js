import{m as T,a as fe,b as I,c as me,I as ve,u as ye,d as pe,M as ge,V as Ve,e as L,f as A,g as be,h as F,i as V,j as H,k as Ce,l as K,n as _e,o as ke,p as we}from"./CGlPYPE_.js";import{p as B,m as E,u as Se,n as xe,q as Me,b as n,s as j,v as O,x as X,y as $,r as M,z as Le,A as Ne,o as k,B as N,w as a,a as b,d,t as v,C as i,c as h,D as $e,F as q,E as je,G as R,H as Pe,I as Ae}from"./DIJIciBX.js";import{_ as he}from"./DlAUqK2U.js";const Re=B({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...T(),...fe(),...I(),...me({transition:"fade-transition"})},"MyLazy"),Te=E()({name:"MyLazy",directives:{intersect:ve},props:Re(),emits:{"update:modelValue":e=>!0},setup(e,{slots:o}){const{dimensionStyles:l}=ye(e),u=Se(e,"modelValue");function s(c){u.value=c}return pe(()=>xe(n(e.tag,{class:["my-lazy",e.class],style:[l.value,e.style]},{default:()=>[u.value&&n(ge,{transition:e.transition,appear:!0},{default:()=>{var c;return[(c=o.default)==null?void 0:c.call(o)]}})]}),[[Me("intersect"),{handler:s,options:e.options},null]])),{}}}),Z=j.reduce((e,o)=>(e[o]={type:[Boolean,String,Number],default:!1},e),{}),ee=j.reduce((e,o)=>{const l="offset"+O(o);return e[l]={type:[String,Number],default:null},e},{}),te=j.reduce((e,o)=>{const l="order"+O(o);return e[l]={type:[String,Number],default:null},e},{}),J={col:Object.keys(Z),offset:Object.keys(ee),order:Object.keys(te)};function Ie(e,o,l){let u=e;if(!(l==null||l===!1)){if(o){const s=o.replace(e,"");u+=`-${s}`}return e==="col"&&(u="v-"+u),e==="col"&&(l===""||l===!0)||(u+=`-${l}`),u.toLowerCase()}}const Be=["auto","start","end","center","baseline","stretch"],Ee=B({cols:{type:[Boolean,String,Number],default:!1},...Z,offset:{type:[String,Number],default:null},...ee,order:{type:[String,Number],default:null},...te,alignSelf:{type:String,default:null,validator:e=>Be.includes(e)},...T(),...I()},"VCol"),W=E()({name:"VCol",props:Ee(),setup(e,o){let{slots:l}=o;const u=X(()=>{const s=[];let c;for(c in J)J[c].forEach(y=>{const C=e[y],f=Ie(c,y,C);f&&s.push(f)});const w=s.some(y=>y.startsWith("v-col-"));return s.push({"v-col":!w||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),s});return()=>{var s;return $(e.tag,{class:[u.value,e.class],style:e.style},(s=l.default)==null?void 0:s.call(l))}}}),U=["start","end","center"],ae=["space-between","space-around","space-evenly"];function z(e,o){return j.reduce((l,u)=>{const s=e+O(u);return l[s]=o(),l},{})}const Oe=[...U,"baseline","stretch"],ne=e=>Oe.includes(e),le=z("align",()=>({type:String,default:null,validator:ne})),Ue=[...U,...ae],se=e=>Ue.includes(e),oe=z("justify",()=>({type:String,default:null,validator:se})),ze=[...U,...ae,"stretch"],re=e=>ze.includes(e),ie=z("alignContent",()=>({type:String,default:null,validator:re})),Y={align:Object.keys(le),justify:Object.keys(oe),alignContent:Object.keys(ie)},Ge={align:"align",justify:"justify",alignContent:"align-content"};function De(e,o,l){let u=Ge[e];if(l!=null){if(o){const s=o.replace(e,"");u+=`-${s}`}return u+=`-${l}`,u.toLowerCase()}}const Fe=B({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:ne},...le,justify:{type:String,default:null,validator:se},...oe,alignContent:{type:String,default:null,validator:re},...ie,...T(),...I()},"VRow"),Q=E()({name:"VRow",props:Fe(),setup(e,o){let{slots:l}=o;const u=X(()=>{const s=[];let c;for(c in Y)Y[c].forEach(w=>{const y=e[w],C=De(c,w,y);C&&s.push(C)});return s.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),s});return()=>{var s;return $(e.tag,{class:["v-row",u.value,e.class],style:e.style},(s=l.default)==null?void 0:s.call(l))}}}),He={class:"pb-4"},Ke={class:"d-flex align-center"},qe=["innerHTML"],Je={key:1},We={style:{width:"50dvw","aspect-ratio":"1"}},Ye={__name:"index",setup(e){const o=M([]);M(20);const l=M(!1),u=M(null),s=M(""),c=je(),{uid:w,moves:y,movesState:C,movesCounts:f,userSettings:P,updateMoveState:G}=Le();function ue(){o.value=y.value}function de(_){const t=new RegExp("(?<=\\b)s\\d{3}[a-z]?(?=\\b)","g");let m=0;const p=[];let r;for(;(r=t.exec(_))!==null;)r.index>m&&p.push({text:_.slice(m,r.index),isMatch:!1}),p.push({text:r[0],isMatch:!0}),m=t.lastIndex;return m<_.length&&p.push({text:_.slice(m),isMatch:!1}),p}function ce(_){return $(q,null,de(_).map(t=>t.isMatch?$(V,{size:"default",variant:"flat",link:!0,class:"mx-1 mt-n1",density:"compact",onClick:m=>{u.value=m.target,l.value=!0,s.value=t.text}},()=>t.text):t.text==","?"":t.text))}return ue(),(_,t)=>{const m=Ne("video-player"),p=Te;return k(),N(ke,null,{default:a(()=>[n(_e,null,{default:a(()=>[n(Ve,{fluid:""},{default:a(()=>[t[15]||(t[15]=b("h1",null,"Salsa moves",-1)),b("p",He,[d(" Total: "+v(i(f).total),1),t[5]||(t[5]=b("br",null,null,-1)),d(" New: "+v(i(f).new),1),t[6]||(t[6]=b("br",null,null,-1)),d(" Learning: "+v(i(f).learning),1),t[7]||(t[7]=b("br",null,null,-1)),d(" Review: "+v(i(f).review),1)]),n(Q,null,{default:a(()=>[n(W,{cols:"4"},{default:a(()=>[n(L,{variant:"outlined"},{default:a(()=>[n(A,null,{default:a(()=>t[8]||(t[8]=[d(" Practice ")])),_:1}),n(be,null,{default:a(()=>[b("div",Ke,[t[9]||(t[9]=d(" State: ")),n(F,{variant:"flat",class:"ml-2",multiple:"",mandatory:"",modelValue:i(P).practiceOptions.states,"onUpdate:modelValue":[t[0]||(t[0]=r=>i(P).practiceOptions.states=r),t[1]||(t[1]=r=>i(G)([{key:"settings",value:i(P)}]))]},{default:a(()=>[n(i(V),{color:"primary",value:"new",density:"compact",filter:""},{default:a(()=>[d(" new("+v(i(f).new)+") ",1)]),_:1}),n(i(V),{color:"deep-purple-lighten-1",value:"learning",density:"compact",filter:""},{default:a(()=>[d(" learning("+v(i(f).learning)+") ",1)]),_:1}),n(i(V),{color:"success",value:"review",density:"compact",filter:""},{default:a(()=>[d(" review("+v(i(f).review)+") ",1)]),_:1})]),_:1},8,["modelValue"])])]),_:1}),n(H,{class:"justify-center"},{default:a(()=>[n(Ce,{to:"/practice",color:"primary",variant:"flat"},{default:a(()=>t[10]||(t[10]=[d("Go")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n(Q,null,{default:a(()=>[(k(!0),h(q,null,$e(o.value,r=>(k(),N(W,{class:"pa-2 v-col-12 v-col-sm-6 v-col-md-4 v-col-lg-3 v-col-xl-2",key:r.sha},{default:a(()=>[n(L,{variant:"flat",class:"pa-0 ma-0"},{default:a(()=>[n(A,{class:"text-h5 text-center",id:r.move},{default:a(()=>[d(v(r.move),1)]),_:2},1032,["id"]),n(p,{class:"video-card"},{default:a(()=>[n(m,{src:`${i(c).public.mediaUrl}${r.name}`,loop:"",controls:"",autoplay:"muted",responsive:"",playbackRate:1,enableSmoothSeeking:!0,fill:"",playsinline:"",onReady:t[2]||(t[2]=g=>{g.target.player.userActive(!1)})},null,8,["src"])]),_:2},1024),r.description?(k(),N(we,{key:0},{default:a(()=>[n(p,null,{default:a(()=>{var g,S,x,D;return[(g=r.description)!=null&&g.text?(k(),h("p",{key:0,innerHTML:(S=r.description)==null?void 0:S.text},null,8,qe)):R("",!0),(x=r.description)!=null&&x.related?(k(),h("p",Je,[t[11]||(t[11]=b("span",{class:"text-subtitle-1"},"Related:",-1)),(k(),N(Pe(ce((D=r.description)==null?void 0:D.related))))])):R("",!0)]}),_:2},1024)]),_:2},1024)):R("",!0),n(H,null,{default:a(()=>[n(p,null,{default:a(()=>[n(K,{location:"right center",transition:"slide-x-transition",offset:6},{activator:a(({props:g})=>{var S;return[n(i(V),Ae({ref_for:!0},g,{color:{new:"primary",undefined:"primary",learning:"deep-purple-lighten-1",review:"success"}[(S=i(C)[`move-${r.move}`])==null?void 0:S.state],variant:"flat",density:"compact"}),{default:a(()=>{var x;return[d(v(((x=i(C)[`move-${r.move}`])==null?void 0:x.state)||"new"),1)]}),_:2},1040,["color"])]}),default:a(()=>[n(L,null,{default:a(()=>[n(F,{variant:"flat","onUpdate:modelValue":g=>i(G)([{key:`move-${r.move}`,value:{state:g}}])},{default:a(()=>[n(i(V),{class:"bg-primary",value:"new",density:"compact"},{default:a(()=>t[12]||(t[12]=[d(" new ")])),_:1}),n(i(V),{class:"bg-deep-purple-lighten-1",value:"learning",density:"compact"},{default:a(()=>t[13]||(t[13]=[d(" learning ")])),_:1}),n(i(V),{class:"bg-success",value:"review",density:"compact"},{default:a(()=>t[14]||(t[14]=[d(" review ")])),_:1})]),_:2},1032,["onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),n(K,{modelValue:l.value,"onUpdate:modelValue":t[4]||(t[4]=r=>l.value=r),location:"center",activator:u.value,scrim:!0},{default:a(()=>[n(L,{variant:"flat",class:"pa-0 ma-0"},{default:a(()=>[n(A,{class:"text-h5 text-center"},{default:a(()=>[d(v(s.value),1)]),_:1}),b("div",We,[n(m,{src:`${i(c).public.mediaUrl}${s.value}.webm`,loop:"",controls:"",autoplay:"muted",responsive:"",playbackRate:1,enableSmoothSeeking:!0,fill:"",playsinline:"",onReady:t[3]||(t[3]=r=>r.target.player.userActive(!1))},null,8,["src"])])]),_:1})]),_:1},8,["modelValue","activator"])]),_:1})]),_:1})}}},et=he(Ye,[["__scopeId","data-v-dc14a4c1"]]);export{et as default};
